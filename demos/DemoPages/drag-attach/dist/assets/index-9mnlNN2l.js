(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const D=document.querySelector("#draggable"),f=document.querySelector("#canvas");var w=(e=>(e[e.left=0]="left",e[e.center=1]="center",e[e.right=2]="right",e))(w||{}),B=(e=>(e[e.top=0]="top",e[e.mid=1]="mid",e[e.bottom=2]="bottom",e))(B||{});const x=10;let E=x,C=x,L=0,R=0;function $(e,r){const s=[],c=[],t=[...e.children].filter(a=>a!==r),{left:n,top:i}=e.getBoundingClientRect();return t.forEach(a=>{const{left:v,top:o,height:l,width:h}=a.getBoundingClientRect(),u=v-n,d=o-i,y=u+h/2,g=u+h,b=d+l/2,m=d+l;s.push(u,y,g),c.push(d,b,m)}),{xlines:s,ylines:c}}function O(e,r){const s=document.createElement("div");s.className="refer-line",s.style.cssText=`${r?"width:0;border-left:1px dashed red":"height:0;border-bottom:1px dashed blue"};position:absolute; ${r?"top:0;bottom:0;left:":"left:0;right:0;top:"}${e}px`,f.appendChild(s)}function q(e,r,s){f.querySelectorAll(".refer-line").forEach(g=>g.remove());const{left:c,top:t,width:n,height:i}=e.getBoundingClientRect(),{left:a,top:v}=f.getBoundingClientRect(),o=c-a,l=t-v,h=o+n/2,u=o+n,d=l+i/2,y=l+i;[o,h,u].forEach((g,b)=>{r.forEach(m=>{const p=Math.abs(m-g);p<=x&&p<=E&&(E=p,L=m,w[b])})}),[l,d,y].forEach((g,b)=>{s.forEach(m=>{const p=Math.abs(m-g);p<=x&&p<=C&&(C=p,R=m,B[b])})}),L!==0&&O(L,!0),R!==0&&O(R,!1)}function M(e){const{xlines:r,ylines:s}=$(f,e),{top:c,left:t}=f.getBoundingClientRect();f.addEventListener("mousedown",i),f.addEventListener("mouseup",a),f.addEventListener("mousemove",v);let n=!1;function i(o){o.preventDefault(),o.target===e&&(n=!0)}function a(o){o.preventDefault(),n=!1}function v(o){if(o.preventDefault(),!n)return;const{clientX:l,clientY:h}=o,{width:u,height:d}=e.getBoundingClientRect();e.style.left=`${l-t-u/2}px`,e.style.top=`${h-c-d/2}px`,q(e,r,s)}}M(D);
